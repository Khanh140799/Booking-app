{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\duykh\\\\Desktop\\\\booking_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\duykh\\\\Desktop\\\\booking_app\\\\client\\\\src\\\\component\\\\usecontext\\\\authcontext.js\";\n\nimport { useEffect, useReducer } from \"react\";\nimport React from \"react\";\nvar initial_state = {\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\n  loading: false,\n  error: null\n};\nexport var AuthContext = React.createContext(initial_state);\n\nvar AuthReducer = function AuthReducer(state, action) {\n  switch (action.type) {\n    case \"login_start\":\n      return {\n        user: null,\n        loading: true,\n        error: null\n      };\n\n    case \"login_success\":\n      return {\n        user: action.payload,\n        loading: false,\n        error: null\n      };\n\n    case \"login_fail\":\n      return {\n        user: null,\n        loading: false,\n        error: action.payload\n      };\n\n    case \"logout\":\n      return {\n        user: null,\n        loading: false,\n        error: null\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport var AuthContextProvider = function AuthContextProvider(_ref) {\n  var children = _ref.children;\n\n  var _useReducer = useReducer(AuthReducer, initial_state),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\n  }, [state.user]);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: {\n      user: state.user,\n      loading: state.loading,\n      error: state.error,\n      dispatch: dispatch\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, children);\n};","map":{"version":3,"names":["useEffect","useReducer","React","initial_state","user","JSON","parse","localStorage","getItem","loading","error","AuthContext","createContext","AuthReducer","state","action","type","payload","AuthContextProvider","children","dispatch","setItem","stringify"],"sources":["C:/Users/duykh/Desktop/booking_app/client/src/component/usecontext/authcontext.js"],"sourcesContent":["import { useEffect, useReducer } from \"react\"\r\nimport React from \"react\"\r\n\r\nconst initial_state={\r\n    user:JSON.parse(localStorage.getItem(\"user\"))||null,\r\n    loading:false,\r\n    error:null,\r\n}\r\n\r\nexport const AuthContext = React.createContext(initial_state)\r\n\r\nconst AuthReducer=(state,action)=>{\r\n    switch(action.type){\r\n        case \"login_start\":\r\n            return{\r\n                user:null,\r\n                loading:true,\r\n                error:null,\r\n            }\r\n        case \"login_success\":\r\n            return{\r\n                user:action.payload,\r\n                loading:false,\r\n                error:null,\r\n            }\r\n        case \"login_fail\":\r\n            return{\r\n                user:null,\r\n                loading:false,\r\n                error:action.payload\r\n            }\r\n        case \"logout\":\r\n            return{\r\n                user:null,\r\n                loading:false,\r\n                error:null,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const AuthContextProvider=({children})=>{\r\n    const [state,dispatch]=useReducer(AuthReducer,initial_state)\r\n    useEffect(()=>{\r\n        localStorage.setItem(\"user\",JSON.stringify(state.user))\r\n    },[state.user])\r\n    return(\r\n        <AuthContext.Provider \r\n        value={{\r\n            user:state.user,\r\n            loading:state.loading,\r\n            error:state.error,\r\n            dispatch}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}"],"mappings":";;;;;AAAA,SAASA,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,aAAa,GAAC;EAChBC,IAAI,EAACC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA0C,IAD/B;EAEhBC,OAAO,EAAC,KAFQ;EAGhBC,KAAK,EAAC;AAHU,CAApB;AAMA,OAAO,IAAMC,WAAW,GAAGT,KAAK,CAACU,aAAN,CAAoBT,aAApB,CAApB;;AAEP,IAAMU,WAAW,GAAC,SAAZA,WAAY,CAACC,KAAD,EAAOC,MAAP,EAAgB;EAC9B,QAAOA,MAAM,CAACC,IAAd;IACI,KAAK,aAAL;MACI,OAAM;QACFZ,IAAI,EAAC,IADH;QAEFK,OAAO,EAAC,IAFN;QAGFC,KAAK,EAAC;MAHJ,CAAN;;IAKJ,KAAK,eAAL;MACI,OAAM;QACFN,IAAI,EAACW,MAAM,CAACE,OADV;QAEFR,OAAO,EAAC,KAFN;QAGFC,KAAK,EAAC;MAHJ,CAAN;;IAKJ,KAAK,YAAL;MACI,OAAM;QACFN,IAAI,EAAC,IADH;QAEFK,OAAO,EAAC,KAFN;QAGFC,KAAK,EAACK,MAAM,CAACE;MAHX,CAAN;;IAKJ,KAAK,QAAL;MACI,OAAM;QACFb,IAAI,EAAC,IADH;QAEFK,OAAO,EAAC,KAFN;QAGFC,KAAK,EAAC;MAHJ,CAAN;;IAKJ;MACI,OAAOI,KAAP;EA1BR;AA4BH,CA7BD;;AA+BA,OAAO,IAAMI,mBAAmB,GAAC,SAApBA,mBAAoB,OAAc;EAAA,IAAZC,QAAY,QAAZA,QAAY;;EAAA,kBACpBlB,UAAU,CAACY,WAAD,EAAaV,aAAb,CADU;EAAA;EAAA,IACpCW,KADoC;EAAA,IAC9BM,QAD8B;;EAE3CpB,SAAS,CAAC,YAAI;IACVO,YAAY,CAACc,OAAb,CAAqB,MAArB,EAA4BhB,IAAI,CAACiB,SAAL,CAAeR,KAAK,CAACV,IAArB,CAA5B;EACH,CAFQ,EAEP,CAACU,KAAK,CAACV,IAAP,CAFO,CAAT;EAGA,oBACI,oBAAC,WAAD,CAAa,QAAb;IACA,KAAK,EAAE;MACHA,IAAI,EAACU,KAAK,CAACV,IADR;MAEHK,OAAO,EAACK,KAAK,CAACL,OAFX;MAGHC,KAAK,EAACI,KAAK,CAACJ,KAHT;MAIHU,QAAQ,EAARA;IAJG,CADP;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAMKD,QANL,CADJ;AAUH,CAfM"},"metadata":{},"sourceType":"module"}