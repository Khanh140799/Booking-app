{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\duykh\\\\2022\\\\learn\\\\BackEnd\\\\BookingApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\duykh\\\\2022\\\\learn\\\\BackEnd\\\\BookingApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\duykh\\\\2022\\\\learn\\\\BackEnd\\\\BookingApp\\\\client\\\\src\\\\component\\\\spin\\\\spin.js\";\n\nimport './spin.css';\nimport data from './gift';\nimport { useState } from 'react';\nimport React from 'react';\n\nvar Spin = function Spin() {\n  var size = data.length;\n  var rotate = 360 / size;\n  var skewY = 90 - rotate;\n  var timer = 5000;\n  var currrentRotate = 0;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isRotating = _useState2[0],\n      setIsRotating = _useState2[1];\n\n  var rotateWheel = function rotateWheel(currrentRotate, index) {\n    document.getElementById('wheel').style.transform = \"rotate(\".concat(currrentRotate - index * rotate - rotate / 2, \"deg)\");\n  };\n\n  var getGift = function getGift(randomNumber) {\n    var currentPercent = 0;\n    var list = [];\n    data.forEach(function (item, index) {\n      currentPercent += item.percent;\n      randomNumber <= currentPercent && list.push(_objectSpread({}, item, {\n        index: index\n      }));\n    });\n    return list[0];\n  };\n\n  var showTxt = function showTxt(txt) {\n    setTimeout(function () {\n      setIsRotating(true);\n      document.getElementById('msg').innerHTML = \"You get \".concat(txt.name);\n      console.log(txt);\n    }, timer);\n  };\n\n  var start = function start() {\n    setIsRotating(false);\n    document.getElementById('msg').innerHTML = \"Vui long chờ trong giây lát\";\n    var random = Math.random();\n    var gift = getGift(random);\n    currrentRotate += 360 * 10;\n    rotateWheel(currrentRotate, gift.index);\n    showTxt(gift);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-wheel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"wheel\",\n    id: \"wheel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, data.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: \"item\",\n      style: {\n        transform: \"rotate(\".concat(rotate * index, \"deg) skewY(-\").concat(skewY, \"deg)\")\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: index % 2 === 0 ? \"text-item\" : \"even\",\n      style: {\n        transform: \"skewY(\".concat(skewY, \"deg) rotate(\").concat(rotate / 2, \"deg)\")\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 41\n      }\n    }, item.name)));\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: !isRotating,\n    className: \"spin-btn\",\n    onClick: start,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"SPIN\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"msg\",\n    id: \"msg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \" \"));\n};\n\nexport default Spin;","map":{"version":3,"names":["data","useState","React","Spin","size","length","rotate","skewY","timer","currrentRotate","isRotating","setIsRotating","rotateWheel","index","document","getElementById","style","transform","getGift","randomNumber","currentPercent","list","forEach","item","percent","push","showTxt","txt","setTimeout","innerHTML","name","console","log","start","random","Math","gift","map"],"sources":["C:/Users/duykh/2022/learn/BackEnd/BookingApp/client/src/component/spin/spin.js"],"sourcesContent":["import './spin.css'\r\nimport data from './gift'\r\nimport { useState } from 'react';\r\nimport React from 'react';\r\n\r\n\r\n\r\nconst Spin=()=>{\r\n    const size=data.length;\r\n    const rotate=360/size;\r\n    const skewY=90-rotate;\r\n    const timer=5000;\r\n    let currrentRotate=0;\r\n    const [isRotating,setIsRotating]=useState(true)\r\n    const rotateWheel=(currrentRotate,index)=>{\r\n        document.getElementById('wheel').style.transform=`rotate(${currrentRotate-index*rotate-rotate/2}deg)`\r\n    };\r\n    const getGift=(randomNumber)=>{ \r\n        let currentPercent=0;\r\n        let list=[];\r\n        data.forEach((item,index)=>{\r\n            currentPercent +=item.percent;\r\n            randomNumber<=currentPercent &&list.push({\r\n                ...item,\r\n                index\r\n            })\r\n        })\r\n        return list[0];\r\n    };\r\n    const showTxt=(txt)=>{\r\n        setTimeout(()=>{\r\n            setIsRotating(true)\r\n            document.getElementById('msg').innerHTML=`You get ${txt.name}`\r\n            console.log(txt);\r\n        },timer)\r\n    };\r\n    const start=()=>{\r\n        setIsRotating(false)\r\n        document.getElementById('msg').innerHTML=\"Vui long chờ trong giây lát\"\r\n        const random=Math.random();\r\n        const gift=getGift(random);\r\n        currrentRotate +=360*10;\r\n        rotateWheel(currrentRotate,gift.index)\r\n        showTxt(gift)\r\n    }\r\n\r\n    return(\r\n        <div className='main'>\r\n            <div className='main-wheel'>\r\n                <ul className='wheel' id='wheel'>\r\n                    {data.map((item,index)=>(\r\n                        <li className='item'\r\n                            style={{transform:`rotate(${rotate*index}deg) skewY(-${skewY}deg)`}}> \r\n                                <p className={index%2===0?\"text-item\": \"even\"}\r\n                                    style={{transform:`skewY(${skewY}deg) rotate(${rotate/2}deg)`}}>\r\n                                        <b>{item.name}</b>\r\n                                </p>                  \r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n            <button \r\n            disabled={!isRotating}\r\n            className='spin-btn'\r\n            onClick={start}>\r\n                SPIN\r\n            </button>\r\n            <h1 className='msg'\r\n            id='msg'> </h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spin"],"mappings":"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"},"metadata":{},"sourceType":"module"}